# Step2 C3 回归数据隔离策略

## 目标
- 自动化/联调测试不污染生产关键业务数据。

## 策略
1. 命名隔离
- 测试账号统一前缀：`it_` / `e2e_`。
- 测试订单备注统一标记：`[TEST]`。

2. 数据范围隔离
- 优先使用专用测试用户与专用商品分类。
- 后台测试新增资源打 `status=draft` 或 `is_active=0`，避免误曝光。

3. 清理机制
- 每次回归后执行清理脚本（按前缀、时间窗口删除）。
- 对订单/工单等关键表优先逻辑删除或归档，不直接硬删生产真实数据。

4. CI 执行规范
- CI 仅跑契约与关键链路的最小写入集。
- 禁止在 CI 中调用破坏性批量接口（清库、全量重建等）。

5. 审计与追踪
- 所有自动化写入附带 `createdBy=ci/e2e` 或备注标识，便于追踪。
